@page
@using Hik.Client.Helpers
@model Hik.Web.Pages.SearchModel
@{ViewData["Title"] = "Search";}

@{
      <form>
         <p>
            <select asp-for="JobTriggerId" asp-items="Model.JobTriggersList">
               <option value="">All</option>
            </select>
            @Html.TextBoxFor(m => m.DateTime, "{0:yyyy-MM-dd HH:mm}", new { @class = "datepicker", placeholder = "Enter From date here...", Value = Model.DateTime })
            <input type="submit" value="Filter" />
         </p>
      </form>

      @if (Model.BeforeFiles != null && Model.BeforeFiles.Any())
      {
          <h4>Before</h4>
          @await Html.PartialAsync("_FilesSearch.cshtml", Model.BeforeFiles)
      }

      @if (Model.Files != null && Model.Files.Any())
      {
          <h4>Files (@Model.Msg)</h4>
          @await Html.PartialAsync("_FilesSearch.cshtml", Model.Files)
      }
      else
      {
          <h4>No files found</h4>
      }

      @if (Model.AfterFiles != null && Model.AfterFiles.Any())
      {
          <h4>After</h4>
          @await Html.PartialAsync("_FilesSearch.cshtml", Model.AfterFiles)
      }
}